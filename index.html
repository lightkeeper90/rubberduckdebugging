<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rubber Duck Debugging</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap" rel="stylesheet">
    <style>
        :root {
            --duck-yellow: #FFD93D;
            --duck-orange: #FF9A3C;
            --duck-beak: #FF6B2C;
            --water-blue: #4ECDC4;
            --water-dark: #1A535C;
            --sky-blue: #87CEEB;
            --pipe-green: #2ECC71;
            --pipe-dark: #27AE60;
            --ground-brown: #8B4513;
            --cloud-white: #F0F0F0;
            --pixel-shadow: #2C3E50;
            --success-green: #00FF00;
            --error-red: #FF0000;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            image-rendering: pixelated;
        }

        body {
            font-family: 'VT323', monospace;
            background: linear-gradient(180deg, var(--sky-blue) 0%, var(--water-blue) 60%, var(--water-dark) 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Contract Address Banner */
        .ca-banner {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(90deg, #1a1a2e 0%, #16213e 50%, #1a1a2e 100%);
            padding: 12px 20px;
            z-index: 1000;
            border-bottom: 4px solid var(--duck-yellow);
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        .ca-banner-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            max-width: 900px;
            margin: 0 auto;
        }

        .ca-label {
            font-family: 'Press Start 2P', cursive;
            font-size: 0.7rem;
            color: var(--duck-yellow);
            text-shadow: 2px 2px 0 var(--duck-orange);
        }

        .ca-address {
            font-family: 'VT323', monospace;
            font-size: 1.1rem;
            color: #00ff00;
            background: rgba(0,0,0,0.3);
            padding: 8px 15px;
            border-radius: 5px;
            border: 2px solid #333;
            word-break: break-all;
            max-width: 500px;
            text-align: center;
        }

        .ca-copy-btn {
            font-family: 'Press Start 2P', cursive;
            font-size: 0.5rem;
            color: white;
            background: linear-gradient(180deg, var(--duck-yellow) 0%, var(--duck-orange) 100%);
            border: none;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            box-shadow: 0 3px 0 #CC7A00;
            transition: all 0.1s ease;
        }

        .ca-copy-btn:hover {
            transform: translateY(1px);
            box-shadow: 0 2px 0 #CC7A00;
        }

        .twitter-btn {
            font-family: 'Press Start 2P', cursive;
            font-size: 0.5rem;
            color: white;
            background: linear-gradient(180deg, #1DA1F2 0%, #0d8bd9 100%);
            border: none;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            box-shadow: 0 3px 0 #0a6da8;
            transition: all 0.1s ease;
            text-decoration: none;
            display: inline-block;
        }

        .twitter-btn:hover {
            transform: translateY(1px);
            box-shadow: 0 2px 0 #0a6da8;
        }

        .twitter-btn:active {
            transform: translateY(2px);
            box-shadow: 0 1px 0 #0a6da8;
        }

        .ca-copy-btn:active {
            transform: translateY(2px);
            box-shadow: 0 1px 0 #CC7A00;
        }

        .ca-copy-btn.copied {
            background: linear-gradient(180deg, var(--pipe-green) 0%, var(--pipe-dark) 100%);
            box-shadow: 0 3px 0 #1E8449;
        }

        /* Add padding to body to account for fixed banner */
        body {
            padding-top: 60px;
        }

        @media (max-width: 600px) {
            .ca-address {
                font-size: 0.9rem;
                max-width: 100%;
            }
            .ca-banner {
                padding: 10px 15px;
            }
        }

        /* Animated clouds */
        .clouds {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 200px;
            pointer-events: none;
            z-index: 1;
        }

        .cloud {
            position: absolute;
            background: var(--cloud-white);
            border-radius: 50%;
            box-shadow: 
                30px 10px 0 var(--cloud-white),
                60px 0 0 var(--cloud-white),
                90px 10px 0 var(--cloud-white),
                20px -10px 0 var(--cloud-white),
                70px -10px 0 var(--cloud-white);
            animation: floatCloud linear infinite;
        }

        .cloud:nth-child(1) { width: 60px; height: 40px; top: 30px; left: -100px; animation-duration: 25s; }
        .cloud:nth-child(2) { width: 80px; height: 50px; top: 80px; left: -200px; animation-duration: 35s; animation-delay: -10s; }
        .cloud:nth-child(3) { width: 50px; height: 35px; top: 50px; left: -150px; animation-duration: 30s; animation-delay: -20s; }

        @keyframes floatCloud {
            from { transform: translateX(-200px); }
            to { transform: translateX(calc(100vw + 200px)); }
        }

        /* Pixel art pipes decoration */
        .pipe {
            position: fixed;
            bottom: 0;
            width: 80px;
            background: linear-gradient(90deg, var(--pipe-dark) 0%, var(--pipe-green) 20%, var(--pipe-green) 80%, var(--pipe-dark) 100%);
            z-index: 2;
        }

        .pipe::before {
            content: '';
            position: absolute;
            top: -20px;
            left: -10px;
            width: 100px;
            height: 30px;
            background: linear-gradient(90deg, var(--pipe-dark) 0%, var(--pipe-green) 15%, var(--pipe-green) 85%, var(--pipe-dark) 100%);
            border-radius: 5px 5px 0 0;
        }

        .pipe-left { left: 5%; height: 120px; }
        .pipe-right { right: 5%; height: 80px; }

        /* Main container */
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 10;
        }

        /* Header with pixel art styling */
        .header {
            text-align: center;
            padding: 40px 20px;
            position: relative;
        }

        .title {
            font-family: 'Press Start 2P', cursive;
            font-size: clamp(1.2rem, 4vw, 2rem);
            color: var(--duck-yellow);
            text-shadow: 
                4px 4px 0 var(--duck-orange),
                8px 8px 0 var(--pixel-shadow);
            margin-bottom: 20px;
            animation: bounce 0.5s ease-in-out infinite alternate;
            line-height: 1.6;
        }

        @keyframes bounce {
            from { transform: translateY(0); }
            to { transform: translateY(-5px); }
        }

        .subtitle {
            font-size: 1.8rem;
            color: white;
            text-shadow: 2px 2px 0 var(--pixel-shadow);
            max-width: 600px;
            margin: 0 auto;
        }

        .subtitle-small {
            font-size: 1.3rem;
            color: var(--duck-yellow);
            text-shadow: 1px 1px 0 var(--pixel-shadow);
            max-width: 550px;
            margin: 10px auto 0;
            opacity: 0.95;
        }

        /* Giant rubber duck mascot */
        .duck-mascot {
            width: 150px;
            height: 150px;
            margin: 20px auto;
            position: relative;
            animation: waddle 1s ease-in-out infinite;
        }

        @keyframes waddle {
            0%, 100% { transform: rotate(-5deg); }
            50% { transform: rotate(5deg); }
        }

        .duck-body {
            width: 120px;
            height: 100px;
            background: radial-gradient(ellipse at 60% 40%, var(--duck-yellow) 0%, var(--duck-orange) 100%);
            border-radius: 50% 50% 45% 45%;
            position: absolute;
            bottom: 0;
            left: 15px;
            box-shadow: 
                inset -10px -10px 20px rgba(0,0,0,0.1),
                5px 5px 0 var(--duck-orange);
        }

        .duck-head {
            width: 70px;
            height: 65px;
            background: radial-gradient(ellipse at 50% 40%, var(--duck-yellow) 0%, var(--duck-orange) 100%);
            border-radius: 50%;
            position: absolute;
            top: 5px;
            left: 50px;
            box-shadow: inset -5px -5px 15px rgba(0,0,0,0.1);
        }

        .duck-eye {
            width: 16px;
            height: 18px;
            background: white;
            border-radius: 50%;
            position: absolute;
            top: 18px;
            right: 12px;
            box-shadow: inset 2px 2px 5px rgba(0,0,0,0.1);
        }

        .duck-eye::after {
            content: '';
            width: 10px;
            height: 10px;
            background: #222;
            border-radius: 50%;
            position: absolute;
            top: 4px;
            left: 3px;
            animation: blink 3s infinite;
        }

        @keyframes blink {
            0%, 95%, 100% { transform: scaleY(1); }
            97% { transform: scaleY(0.1); }
        }

        .duck-beak {
            width: 35px;
            height: 18px;
            background: linear-gradient(180deg, var(--duck-beak) 0%, #E55A20 100%);
            border-radius: 0 50% 50% 50%;
            position: absolute;
            top: 32px;
            right: -15px;
            transform: rotate(-5deg);
        }

        .duck-wing {
            width: 40px;
            height: 30px;
            background: var(--duck-orange);
            border-radius: 50% 50% 50% 20%;
            position: absolute;
            top: 45px;
            left: 5px;
            transform: rotate(-20deg);
        }

        /* Speech bubble */
        .speech-bubble {
            position: absolute;
            top: -30px;
            right: -80px;
            background: white;
            padding: 10px 15px;
            border-radius: 15px;
            font-family: 'Press Start 2P', cursive;
            font-size: 0.6rem;
            box-shadow: 3px 3px 0 var(--pixel-shadow);
            animation: quack 2s ease-in-out infinite;
        }

        .speech-bubble::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 20px;
            border: 10px solid transparent;
            border-top-color: white;
        }

        @keyframes quack {
            0%, 90%, 100% { opacity: 1; transform: scale(1); }
            95% { opacity: 0.5; transform: scale(0.95); }
        }

        /* Drop zone */
        .drop-zone {
            background: rgba(255, 255, 255, 0.95);
            border: 8px dashed var(--duck-yellow);
            border-radius: 20px;
            padding: 60px 40px;
            text-align: center;
            margin: 30px 0;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 10px 30px rgba(0,0,0,0.2),
                inset 0 0 50px rgba(255, 217, 61, 0.1);
        }

        .drop-zone::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                repeating-linear-gradient(
                    0deg,
                    transparent,
                    transparent 20px,
                    rgba(255, 217, 61, 0.03) 20px,
                    rgba(255, 217, 61, 0.03) 40px
                );
            pointer-events: none;
        }

        .drop-zone.drag-over {
            border-color: var(--pipe-green);
            background: rgba(46, 204, 113, 0.1);
            transform: scale(1.02);
        }

        .drop-zone-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            animation: float 2s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .drop-zone h2 {
            font-family: 'Press Start 2P', cursive;
            font-size: 1rem;
            color: var(--pixel-shadow);
            margin-bottom: 15px;
        }

        .drop-zone p {
            font-size: 1.4rem;
            color: #666;
        }

        .drop-zone-fun {
            font-size: 1.1rem !important;
            color: var(--duck-orange) !important;
            font-style: italic;
            margin-top: 8px;
        }

        .file-input {
            display: none;
        }

        .upload-btn {
            display: inline-block;
            margin-top: 20px;
            padding: 15px 30px;
            font-family: 'Press Start 2P', cursive;
            font-size: 0.8rem;
            color: white;
            background: linear-gradient(180deg, var(--pipe-green) 0%, var(--pipe-dark) 100%);
            border: none;
            border-radius: 10px;
            cursor: pointer;
            box-shadow: 
                0 6px 0 #1E8449,
                0 8px 10px rgba(0,0,0,0.3);
            transition: all 0.1s ease;
        }

        .upload-btn:hover {
            transform: translateY(2px);
            box-shadow: 
                0 4px 0 #1E8449,
                0 6px 8px rgba(0,0,0,0.3);
        }

        .upload-btn:active {
            transform: translateY(4px);
            box-shadow: 
                0 2px 0 #1E8449,
                0 4px 6px rgba(0,0,0,0.3);
        }

        /* File list */
        .file-list {
            margin: 20px 0;
        }

        .file-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: rgba(255, 255, 255, 0.9);
            padding: 15px 20px;
            border-radius: 10px;
            margin: 10px 0;
            border-left: 5px solid var(--duck-yellow);
            box-shadow: 3px 3px 0 rgba(0,0,0,0.1);
        }

        .file-item span {
            font-size: 1.2rem;
            color: var(--pixel-shadow);
        }

        .remove-file {
            background: var(--error-red);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Press Start 2P', cursive;
            font-size: 0.6rem;
        }

        /* Debug button */
        .debug-btn {
            display: block;
            width: 100%;
            max-width: 400px;
            margin: 30px auto;
            padding: 25px 40px;
            font-family: 'Press Start 2P', cursive;
            font-size: 1.2rem;
            color: white;
            background: linear-gradient(180deg, var(--duck-yellow) 0%, var(--duck-orange) 100%);
            border: none;
            border-radius: 15px;
            cursor: pointer;
            box-shadow: 
                0 8px 0 #CC7A00,
                0 12px 20px rgba(0,0,0,0.3);
            transition: all 0.1s ease;
            text-shadow: 2px 2px 0 var(--duck-beak);
        }

        .debug-btn:hover:not(:disabled) {
            transform: translateY(3px);
            box-shadow: 
                0 5px 0 #CC7A00,
                0 8px 15px rgba(0,0,0,0.3);
        }

        .debug-btn:active:not(:disabled) {
            transform: translateY(6px);
            box-shadow: 
                0 2px 0 #CC7A00,
                0 4px 10px rgba(0,0,0,0.3);
        }

        .debug-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        /* Debug console */
        .debug-console {
            background: #1a1a2e;
            border-radius: 15px;
            padding: 20px;
            margin: 30px 0;
            display: none;
            box-shadow: 
                inset 0 0 50px rgba(0,0,0,0.5),
                0 10px 30px rgba(0,0,0,0.3);
            border: 4px solid var(--duck-yellow);
        }

        .debug-console.active {
            display: block;
        }

        .console-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #333;
        }

        .console-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .dot-red { background: #ff5f56; }
        .dot-yellow { background: #ffbd2e; }
        .dot-green { background: #27ca40; }

        .console-title {
            font-family: 'Press Start 2P', cursive;
            font-size: 0.7rem;
            color: var(--duck-yellow);
            margin-left: 10px;
        }

        .console-output {
            font-family: 'VT323', monospace;
            font-size: 1.2rem;
            color: #00ff00;
            max-height: 400px;
            overflow-y: auto;
            line-height: 1.6;
        }

        .console-line {
            margin: 5px 0;
            opacity: 0;
            animation: typeIn 0.3s ease forwards;
        }

        @keyframes typeIn {
            from { opacity: 0; transform: translateX(-10px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .console-line.error { color: #ff6b6b; }
        .console-line.warning { color: #ffd93d; }
        .console-line.success { color: #6bff6b; }
        .console-line.info { color: #6bdfff; }
        .console-line.duck { color: var(--duck-yellow); }

        /* Progress bar */
        .progress-container {
            background: #333;
            border-radius: 10px;
            height: 30px;
            margin: 20px 0;
            overflow: hidden;
            display: none;
            box-shadow: inset 0 3px 10px rgba(0,0,0,0.5);
        }

        .progress-container.active {
            display: block;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, 
                var(--duck-yellow) 0%, 
                var(--duck-orange) 50%, 
                var(--duck-yellow) 100%);
            background-size: 200% 100%;
            width: 0%;
            transition: width 0.3s ease;
            animation: shimmer 1s linear infinite;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Press Start 2P', cursive;
            font-size: 0.6rem;
            color: var(--pixel-shadow);
        }

        @keyframes shimmer {
            from { background-position: 200% 0; }
            to { background-position: -200% 0; }
        }

        /* Results panel */
        .results-panel {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            display: none;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            border: 4px solid var(--pipe-green);
        }

        .results-panel.active {
            display: block;
            animation: slideUp 0.5s ease;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .results-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        /* Results duck handled by .results-rubber-duck class */

        @keyframes celebrate {
            from { transform: rotate(-10deg) scale(1); }
            to { transform: rotate(10deg) scale(1.1); }
        }

        .results-title {
            font-family: 'Press Start 2P', cursive;
            font-size: 1.2rem;
            color: var(--pipe-green);
        }

        .results-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-box {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border-left: 4px solid var(--duck-yellow);
        }

        .stat-number {
            font-family: 'Press Start 2P', cursive;
            font-size: 1.5rem;
            color: var(--pixel-shadow);
        }

        .stat-label {
            font-size: 1rem;
            color: #666;
            margin-top: 5px;
        }

        .bug-list {
            margin-top: 20px;
        }

        .bug-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            padding: 15px;
            background: #fff;
            border-radius: 10px;
            margin: 10px 0;
            border-left: 4px solid var(--duck-yellow);
            box-shadow: 2px 2px 10px rgba(0,0,0,0.05);
        }

        .bug-icon {
            font-size: 1.5rem;
        }

        .bug-details {
            flex: 1;
        }

        .bug-type {
            font-family: 'Press Start 2P', cursive;
            font-size: 0.7rem;
            color: var(--duck-beak);
        }

        .bug-message {
            font-size: 1.1rem;
            color: #333;
            margin-top: 5px;
        }

        .bug-fix {
            font-size: 1rem;
            color: var(--pipe-green);
            margin-top: 5px;
            font-style: italic;
        }

        /* Lore section */
        .lore-section {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 30px;
            margin: 40px 0;
            position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .lore-title {
            font-family: 'Press Start 2P', cursive;
            font-size: 1rem;
            color: var(--pixel-shadow);
            margin-bottom: 20px;
        }

        .lore-text {
            font-size: 1.3rem;
            color: #444;
            line-height: 1.8;
        }

        .lore-quote {
            background: linear-gradient(135deg, var(--duck-yellow) 0%, var(--duck-orange) 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            font-style: italic;
            color: var(--pixel-shadow);
        }

        /* How It Works Section */
        .how-it-works {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 30px;
            margin: 40px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .how-it-works-title {
            font-family: 'Press Start 2P', cursive;
            font-size: 1rem;
            color: var(--pixel-shadow);
            margin-bottom: 20px;
            text-align: center;
        }

        .how-it-works-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .step-card {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border: 3px solid var(--duck-yellow);
        }

        .step-number {
            font-family: 'Press Start 2P', cursive;
            font-size: 1.5rem;
            color: var(--duck-yellow);
            margin-bottom: 10px;
        }

        .step-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .step-text {
            font-size: 1.1rem;
            color: #fff;
        }

        /* Fake Code Screen */
        .code-screen {
            background: #0d0d0d;
            border-radius: 10px;
            padding: 15px;
            border: 4px solid var(--duck-yellow);
            box-shadow: inset 0 0 30px rgba(0,255,0,0.1), 0 5px 20px rgba(0,0,0,0.3);
            position: relative;
            overflow: hidden;
        }

        .code-screen-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #333;
        }

        .code-screen-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .code-screen-title {
            font-family: 'Press Start 2P', cursive;
            font-size: 0.6rem;
            color: var(--duck-yellow);
            margin-left: 10px;
        }

        .code-output {
            font-family: 'VT323', monospace;
            font-size: 1rem;
            color: #00ff00;
            height: 300px;
            overflow: hidden;
            position: relative;
        }

        .code-line {
            white-space: nowrap;
            overflow: hidden;
            animation: typeCode 0.5s steps(40) forwards;
            opacity: 0.9;
        }

        .code-line.comment { color: #6a9955; }
        .code-line.keyword { color: #569cd6; }
        .code-line.string { color: #ce9178; }
        .code-line.function { color: #dcdcaa; }
        .code-line.number { color: #b5cea8; }
        .code-line.error { color: #f44747; }
        .code-line.success { color: #4ec9b0; }
        .code-line.duck { color: var(--duck-yellow); }

        @keyframes typeCode {
            from { width: 0; }
            to { width: 100%; }
        }

        .scan-line {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: rgba(0, 255, 0, 0.3);
            animation: scanDown 3s linear infinite;
            pointer-events: none;
        }

        @keyframes scanDown {
            0% { top: 0; }
            100% { top: 100%; }
        }

        /* Live Activity Feed */
        .activity-section {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 30px;
            margin: 40px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .activity-title {
            font-family: 'Press Start 2P', cursive;
            font-size: 1rem;
            color: var(--pixel-shadow);
            margin-bottom: 20px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .live-indicator {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: #ff4444;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.6rem;
            animation: pulse 2s ease-in-out infinite;
        }

        .live-dot {
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            animation: blink 1s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .activity-feed {
            display: flex;
            flex-direction: column;
            gap: 12px;
            max-height: 500px;
            overflow: hidden;
        }

        .activity-item {
            display: flex;
            align-items: center;
            gap: 15px;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            padding: 15px 20px;
            border-radius: 12px;
            border-left: 4px solid var(--duck-yellow);
            opacity: 0;
            transform: translateX(-30px);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .activity-item.visible {
            opacity: 1;
            transform: translateX(0);
        }

        .activity-avatar {
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, var(--duck-yellow) 0%, var(--duck-orange) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Press Start 2P', cursive;
            font-size: 0.9rem;
            color: var(--pixel-shadow);
            flex-shrink: 0;
            box-shadow: 0 3px 10px rgba(0,0,0,0.3);
        }

        .activity-content {
            flex: 1;
            min-width: 0;
        }

        .activity-user {
            font-family: 'Press Start 2P', cursive;
            font-size: 0.65rem;
            color: var(--duck-yellow);
            margin-bottom: 4px;
        }

        .activity-action {
            font-size: 1.1rem;
            color: #ccc;
        }

        .activity-file {
            color: #4ec9b0;
            font-weight: bold;
        }

        .activity-result {
            font-size: 1rem;
            color: var(--success-green);
            margin-top: 4px;
        }

        .activity-time {
            font-size: 0.9rem;
            color: #888;
            flex-shrink: 0;
        }

        .activity-stats {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-top: 25px;
            padding-top: 20px;
            border-top: 2px solid rgba(0,0,0,0.1);
        }

        .activity-stat {
            text-align: center;
        }

        .activity-stat-number {
            font-family: 'Press Start 2P', cursive;
            font-size: 1.5rem;
            color: var(--pipe-green);
            display: block;
        }

        .activity-stat-label {
            font-size: 1rem;
            color: #666;
            margin-top: 5px;
        }

        /* Water waves at bottom */
        .waves {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100px;
            z-index: 1;
            pointer-events: none;
        }

        .wave {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 200%;
            height: 100%;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 120'%3E%3Cpath fill='%234ECDC4' d='M0,60 C150,120 350,0 600,60 C850,120 1050,0 1200,60 L1200,120 L0,120 Z'/%3E%3C/svg%3E") repeat-x;
            background-size: 600px 100px;
            animation: wave 10s linear infinite;
        }

        .wave:nth-child(2) {
            bottom: 10px;
            opacity: 0.5;
            animation-duration: 8s;
            animation-direction: reverse;
        }

        @keyframes wave {
            from { transform: translateX(0); }
            to { transform: translateX(-600px); }
        }

        /* Floating ducks */
        .floating-ducks {
            position: fixed;
            bottom: 80px;
            left: 0;
            width: 100%;
            height: 50px;
            z-index: 3;
            pointer-events: none;
        }

        /* Floating ducks handled by .floating-rubber-duck class */

        @keyframes floatDuck {
            0% { 
                transform: translateX(-50px) translateY(0) rotate(0deg); 
                left: -50px;
            }
            25% { transform: translateX(25vw) translateY(-10px) rotate(5deg); }
            50% { transform: translateX(50vw) translateY(0) rotate(-5deg); }
            75% { transform: translateX(75vw) translateY(-10px) rotate(5deg); }
            100% { 
                transform: translateX(100vw) translateY(0) rotate(0deg);
                left: 100vw;
            }
        }

        /* Coins animation */
        .coin {
            position: fixed;
            font-size: 1.5rem;
            animation: coinBounce 0.5s ease-out forwards;
            z-index: 100;
            pointer-events: none;
        }

        @keyframes coinBounce {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-100px) scale(1.5); opacity: 0; }
        }

        /* Download section */
        .download-section {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 3px dashed var(--duck-yellow);
        }

        .download-section h3 {
            font-family: 'Press Start 2P', cursive;
            font-size: 0.9rem;
            color: var(--pixel-shadow);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .download-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 15px 20px;
            border-radius: 10px;
            margin: 10px 0;
            border-left: 4px solid var(--pipe-green);
            box-shadow: 2px 2px 10px rgba(0,0,0,0.05);
            flex-wrap: wrap;
            gap: 10px;
        }

        .download-item-info {
            display: flex;
            align-items: center;
            gap: 10px;
            flex: 1;
            min-width: 200px;
        }

        .download-item-icon {
            font-size: 1.5rem;
        }

        .download-item-details {
            flex: 1;
        }

        .download-item-name {
            font-family: 'Press Start 2P', cursive;
            font-size: 0.6rem;
            color: var(--pixel-shadow);
            word-break: break-all;
        }

        .download-item-original {
            font-size: 0.9rem;
            color: #888;
            margin-top: 3px;
        }

        .download-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            font-family: 'Press Start 2P', cursive;
            font-size: 0.6rem;
            color: white;
            background: linear-gradient(180deg, var(--pipe-green) 0%, var(--pipe-dark) 100%);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            box-shadow: 
                0 4px 0 #1E8449,
                0 6px 8px rgba(0,0,0,0.2);
            transition: all 0.1s ease;
            text-decoration: none;
        }

        .download-btn:hover {
            transform: translateY(2px);
            box-shadow: 
                0 2px 0 #1E8449,
                0 4px 6px rgba(0,0,0,0.2);
        }

        .download-btn:active {
            transform: translateY(3px);
            box-shadow: 
                0 1px 0 #1E8449,
                0 2px 4px rgba(0,0,0,0.2);
        }

        .download-all-btn {
            display: block;
            width: 100%;
            margin-top: 20px;
            padding: 18px 30px;
            font-family: 'Press Start 2P', cursive;
            font-size: 0.8rem;
            color: white;
            background: linear-gradient(180deg, var(--duck-yellow) 0%, var(--duck-orange) 100%);
            border: none;
            border-radius: 10px;
            cursor: pointer;
            box-shadow: 
                0 5px 0 #CC7A00,
                0 8px 15px rgba(0,0,0,0.2);
            transition: all 0.1s ease;
            text-shadow: 1px 1px 0 var(--duck-beak);
        }

        .download-all-btn:hover {
            transform: translateY(2px);
            box-shadow: 
                0 3px 0 #CC7A00,
                0 5px 10px rgba(0,0,0,0.2);
        }

        /* Rubber Duck Icon - CSS only */
        .rubber-duck-icon {
            display: inline-block;
            position: relative;
            width: 1em;
            height: 1em;
            vertical-align: middle;
        }

        .rubber-duck-icon::before {
            content: '';
            position: absolute;
            width: 0.7em;
            height: 0.55em;
            background: linear-gradient(135deg, #FFD93D 0%, #FFC107 50%, #FF9800 100%);
            border-radius: 50% 50% 45% 45%;
            bottom: 0;
            left: 0.05em;
            box-shadow: inset -2px -2px 4px rgba(0,0,0,0.15);
        }

        .rubber-duck-icon::after {
            content: '';
            position: absolute;
            width: 0.4em;
            height: 0.35em;
            background: linear-gradient(135deg, #FFD93D 0%, #FFC107 100%);
            border-radius: 50%;
            top: 0.05em;
            left: 0.35em;
            box-shadow: 
                inset -1px -1px 3px rgba(0,0,0,0.1),
                0.18em 0.08em 0 0 #FF6B2C;
        }

        /* Small rubber duck for inline text */
        .duck-sm {
            width: 1.2em;
            height: 1.2em;
        }

        /* Medium rubber duck */
        .duck-md {
            width: 2em;
            height: 2em;
        }

        /* Large rubber duck */
        .duck-lg {
            width: 3em;
            height: 3em;
        }

        /* Extra large rubber duck */
        .duck-xl {
            width: 4em;
            height: 4em;
        }

        /* Animated floating duck for water */
        .floating-rubber-duck {
            display: inline-block;
            position: absolute;
            width: 40px;
            height: 35px;
            animation: floatDuck 15s linear infinite;
        }

        .floating-rubber-duck .duck-body {
            position: absolute;
            width: 30px;
            height: 22px;
            background: linear-gradient(135deg, #FFD93D 0%, #FFC107 50%, #FF9800 100%);
            border-radius: 50% 50% 45% 45%;
            bottom: 0;
            left: 2px;
            box-shadow: 
                inset -3px -3px 6px rgba(0,0,0,0.15),
                2px 2px 4px rgba(0,0,0,0.2);
        }

        .floating-rubber-duck .duck-head {
            position: absolute;
            width: 18px;
            height: 16px;
            background: linear-gradient(135deg, #FFD93D 0%, #FFC107 100%);
            border-radius: 50%;
            top: 2px;
            left: 18px;
            box-shadow: inset -2px -2px 4px rgba(0,0,0,0.1);
        }

        .floating-rubber-duck .duck-beak {
            position: absolute;
            width: 10px;
            height: 5px;
            background: linear-gradient(180deg, #FF6B2C 0%, #E55A20 100%);
            border-radius: 0 50% 50% 50%;
            top: 10px;
            left: 33px;
        }

        .floating-rubber-duck .duck-eye {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #222;
            border-radius: 50%;
            top: 6px;
            left: 30px;
        }

        .floating-rubber-duck:nth-child(1) { animation-delay: 0s; }
        .floating-rubber-duck:nth-child(2) { animation-delay: -5s; }
        .floating-rubber-duck:nth-child(3) { animation-delay: -10s; }

        /* Results panel duck */
        .results-rubber-duck {
            display: inline-block;
            position: relative;
            width: 60px;
            height: 55px;
            animation: celebrate 0.5s ease infinite alternate;
        }

        .results-rubber-duck .duck-body {
            position: absolute;
            width: 45px;
            height: 35px;
            background: linear-gradient(135deg, #FFD93D 0%, #FFC107 50%, #FF9800 100%);
            border-radius: 50% 50% 45% 45%;
            bottom: 0;
            left: 3px;
            box-shadow: 
                inset -5px -5px 10px rgba(0,0,0,0.15),
                3px 3px 6px rgba(0,0,0,0.2);
        }

        .results-rubber-duck .duck-head {
            position: absolute;
            width: 28px;
            height: 25px;
            background: linear-gradient(135deg, #FFD93D 0%, #FFC107 100%);
            border-radius: 50%;
            top: 3px;
            left: 28px;
            box-shadow: inset -3px -3px 6px rgba(0,0,0,0.1);
        }

        .results-rubber-duck .duck-beak {
            position: absolute;
            width: 14px;
            height: 7px;
            background: linear-gradient(180deg, #FF6B2C 0%, #E55A20 100%);
            border-radius: 0 50% 50% 50%;
            top: 15px;
            left: 52px;
        }

        .results-rubber-duck .duck-eye {
            position: absolute;
            width: 6px;
            height: 7px;
            background: white;
            border-radius: 50%;
            top: 10px;
            left: 46px;
        }

        .results-rubber-duck .duck-eye::after {
            content: '';
            position: absolute;
            width: 4px;
            height: 4px;
            background: #222;
            border-radius: 50%;
            top: 2px;
            left: 1px;
        }

        /* Inline text rubber duck SVG */
        .inline-duck {
            display: inline-block;
            width: 1.2em;
            height: 1.2em;
            vertical-align: middle;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cellipse cx='40' cy='65' rx='35' ry='28' fill='%23FFD93D'/%3E%3Cellipse cx='40' cy='65' rx='35' ry='28' fill='url(%23bodyGrad)'/%3E%3Ccircle cx='65' cy='40' r='22' fill='%23FFD93D'/%3E%3Ccircle cx='65' cy='40' r='22' fill='url(%23headGrad)'/%3E%3Cellipse cx='85' cy='45' rx='12' ry='6' fill='%23FF6B2C' transform='rotate(-10 85 45)'/%3E%3Ccircle cx='75' cy='35' r='5' fill='white'/%3E%3Ccircle cx='76' cy='36' r='3' fill='%23222'/%3E%3Cdefs%3E%3ClinearGradient id='bodyGrad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23FFD93D'/%3E%3Cstop offset='100%25' stop-color='%23FF9800' stop-opacity='0.5'/%3E%3C/linearGradient%3E%3ClinearGradient id='headGrad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23FFD93D'/%3E%3Cstop offset='100%25' stop-color='%23FFC107'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E");
            background-size: contain;
            background-repeat: no-repeat;
        }

        .inline-duck-lg {
            width: 2em;
            height: 2em;
        }

        /* Responsive */
        @media (max-width: 600px) {
            .title { font-size: 1rem; }
            .drop-zone { padding: 30px 20px; }
            .pipe { display: none; }
            .speech-bubble { display: none; }
        }

        /* Quack sound effect visualization */
        .quack-effect {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-family: 'Press Start 2P', cursive;
            font-size: 3rem;
            color: var(--duck-yellow);
            text-shadow: 4px 4px 0 var(--duck-orange);
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
        }

        .quack-effect.active {
            animation: quackPop 0.5s ease-out;
        }

        @keyframes quackPop {
            0% { opacity: 1; transform: translate(-50%, -50%) scale(0.5); }
            50% { opacity: 1; transform: translate(-50%, -50%) scale(1.2); }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(1.5); }
        }
    </style>
</head>
<body>
    <!-- CONTRACT ADDRESS BANNER -->
    <div class="ca-banner">
        <div class="ca-banner-content">
            <span class="ca-label">CA:</span>
            <span class="ca-address" id="caAddress">comingsoon</span>
            <button class="ca-copy-btn" onclick="copyCA()">üìã COPY</button>
            <a href="https://x.com/i/communities/2009870011616375033" target="_blank" class="twitter-btn">ùïè TWITTER</a>
        </div>
    </div>

    <!-- Decorative elements -->
    <div class="clouds">
        <div class="cloud"></div>
        <div class="cloud"></div>
        <div class="cloud"></div>
    </div>

    <div class="pipe pipe-left"></div>
    <div class="pipe pipe-right"></div>

    <div class="waves">
        <div class="wave"></div>
        <div class="wave"></div>
    </div>

    <div class="floating-ducks">
        <div class="floating-rubber-duck">
            <div class="duck-body"></div>
            <div class="duck-head"></div>
            <div class="duck-beak"></div>
            <div class="duck-eye"></div>
        </div>
        <div class="floating-rubber-duck">
            <div class="duck-body"></div>
            <div class="duck-head"></div>
            <div class="duck-beak"></div>
            <div class="duck-eye"></div>
        </div>
        <div class="floating-rubber-duck">
            <div class="duck-body"></div>
            <div class="duck-head"></div>
            <div class="duck-beak"></div>
            <div class="duck-eye"></div>
        </div>
    </div>

    <div class="quack-effect" id="quackEffect">QUACK!</div>

    <div class="container">
        <header class="header">
            <h1 class="title"><span class="inline-duck"></span> RUBBER DUCK<br>DEBUGGING <span class="inline-duck"></span></h1>
            
            <div class="duck-mascot">
                <div class="speech-bubble">QUACK!</div>
                <div class="duck-body">
                    <div class="duck-wing"></div>
                </div>
                <div class="duck-head">
                    <div class="duck-eye"></div>
                    <div class="duck-beak"></div>
                </div>
            </div>

            <p class="subtitle">Drop your buggy code and let the duck work its magic! ü™Ñ</p>
            <p class="subtitle-small">You may also drop JPEGs, PNGs, MP3s, MP4s ‚Äì our duck fixes and enhances quality of all files!</p>
        </header>

        <!-- Drop Zone -->
        <div class="drop-zone" id="dropZone">
            <div class="drop-zone-icon">üìÅ<span class="inline-duck inline-duck-lg"></span></div>
            <h2>DROP YOUR FILES HERE!</h2>
            <p>Drag & drop your code files, or click to browse</p>
            <p class="drop-zone-fun">No bugs to squash? Upload a random file and watch it cook!</p>
            <input type="file" id="fileInput" class="file-input" multiple accept=".js,.jsx,.ts,.tsx,.py,.html,.css,.json,.php,.rb,.java,.c,.cpp,.go,.rs,.jpg,.jpeg,.png,.gif,.webp,.mp3,.wav,.mp4,.mov,.avi,.mkv">
            <button class="upload-btn" onclick="document.getElementById('fileInput').click()">
                SELECT FILES
            </button>
        </div>

        <!-- File List -->
        <div class="file-list" id="fileList"></div>

        <!-- Debug Button -->
        <button class="debug-btn" id="debugBtn" disabled onclick="startDebugging()">
            <span class="inline-duck"></span> START DEBUGGING <span class="inline-duck"></span>
        </button>

        <!-- Progress -->
        <div class="progress-container" id="progressContainer">
            <div class="progress-bar" id="progressBar">0%</div>
        </div>

        <!-- Debug Console -->
        <div class="debug-console" id="debugConsole">
            <div class="console-header">
                <span class="console-dot dot-red"></span>
                <span class="console-dot dot-yellow"></span>
                <span class="console-dot dot-green"></span>
                <span class="console-title">DUCK TERMINAL v1.0</span>
            </div>
            <div class="console-output" id="consoleOutput"></div>
        </div>

        <!-- Results -->
        <div class="results-panel" id="resultsPanel">
            <div class="results-header">
                <div class="results-rubber-duck">
                    <div class="duck-body"></div>
                    <div class="duck-head"></div>
                    <div class="duck-beak"></div>
                    <div class="duck-eye"></div>
                </div>
                <div>
                    <h2 class="results-title">DEBUGGING COMPLETE!</h2>
                    <p>The duck has spoken. Your code is enlightened.</p>
                </div>
            </div>

            <div class="results-stats" id="resultsStats"></div>
            <div class="bug-list" id="bugList"></div>
            
            <div class="download-section" id="downloadSection"></div>
        </div>

        <!-- Lore Section -->
        <div class="lore-section">
            <h3 class="lore-title"><a href="https://en.wikipedia.org/wiki/Rubber_duck_debugging" target="_blank" style="color: inherit; text-decoration: none;">THE ANCIENT ART OF DUCK DEBUGGING</a></h3>
            <div class="lore-text">
                <p>
                    <strong>Rubber duck debugging</strong> is a legendary debugging technique in software engineering. 
                    A programmer explains their code, step by step, in natural language‚Äîeither aloud or in writing‚Äîto reveal 
                    mistakes and misunderstandings.
                </p>
                
                <div class="lore-quote">
                    "The name comes from a story in the legendary tome 'The Pragmatic Programmer' (1999), which tells 
                    of a developer who carried a rubber duck and explained their code to it line by line."
                </div>

                <p>
                    Programmers often discover solutions while explaining a problem to someone else, even to those with 
                    no programming knowledge. By describing the code and comparing to what it actually does, inconsistencies 
                    are exposed. The humble rubber duck requires no salary, no coffee breaks, and never judges your code... 
                    it just <strong>QUACKS</strong>! <span class="inline-duck"></span>
                </p>

                <p style="margin-top: 20px; font-size: 1.1rem; color: #666;">
                    Fun fact: On April 1st, 2018, Stack Exchange launched "Quack Overflow" - a rubber duck avatar 
                    that listened to user problems and responded only with "quack"!
                </p>
            </div>
        </div>

        <!-- How It Works Section -->
        <div class="how-it-works">
            <h3 class="how-it-works-title">üîß HOW IT WORKS üîß</h3>
            
            <div class="how-it-works-steps">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <div class="step-icon">üìÅ</div>
                    <div class="step-text">Upload your buggy code files</div>
                </div>
                <div class="step-card">
                    <div class="step-number">2</div>
                    <div class="step-icon">ü¶Ü</div>
                    <div class="step-text">Duck analyzes with ancient quack algorithms</div>
                </div>
                <div class="step-card">
                    <div class="step-number">3</div>
                    <div class="step-icon">üîç</div>
                    <div class="step-text">AI-powered bug detection (100% duck)</div>
                </div>
                <div class="step-card">
                    <div class="step-number">4</div>
                    <div class="step-icon">‚ú®</div>
                    <div class="step-text">Download your enlightened code</div>
                </div>
            </div>

            <div class="code-screen">
                <div class="code-screen-header">
                    <div class="code-screen-dot dot-red"></div>
                    <div class="code-screen-dot dot-yellow"></div>
                    <div class="code-screen-dot dot-green"></div>
                    <span class="code-screen-title">duck_debug.exe - LIVE ANALYSIS</span>
                </div>
                <div class="code-output" id="fakeCodeOutput"></div>
                <div class="scan-line"></div>
            </div>
        </div>

        <!-- Live Activity Feed Section -->
        <div class="activity-section">
            <h3 class="activity-title">
                <span class="live-indicator"><span class="live-dot"></span> LIVE</span>
                RECENT DEBUG ACTIVITY
            </h3>
            
            <div class="activity-feed" id="activityFeed"></div>

            <div class="activity-stats">
                <div class="activity-stat">
                    <span class="activity-stat-number" id="totalDebuggedStat">12,847</span>
                    <div class="activity-stat-label">Files Debugged Today</div>
                </div>
                <div class="activity-stat">
                    <span class="activity-stat-number" id="totalBugsStat">45,293</span>
                    <div class="activity-stat-label">Bugs Fixed Today</div>
                </div>
                <div class="activity-stat">
                    <span class="activity-stat-number" id="activeUsersStat">1,024</span>
                    <div class="activity-stat-label">Active Debuggers</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Copy CA function
        function copyCA() {
            const caText = document.getElementById('caAddress').textContent;
            navigator.clipboard.writeText(caText).then(() => {
                const btn = document.querySelector('.ca-copy-btn');
                btn.textContent = '‚úÖ COPIED!';
                btn.classList.add('copied');
                playQuack();
                setTimeout(() => {
                    btn.textContent = 'üìã COPY';
                    btn.classList.remove('copied');
                }, 2000);
            });
        }

        // State
        let files = [];
        let fileContents = {}; // Store file contents for download
        const dropZone = document.getElementById('dropZone');
        const fileInput = document.getElementById('fileInput');
        const fileList = document.getElementById('fileList');
        const debugBtn = document.getElementById('debugBtn');
        const progressContainer = document.getElementById('progressContainer');
        const progressBar = document.getElementById('progressBar');
        const debugConsole = document.getElementById('debugConsole');
        const consoleOutput = document.getElementById('consoleOutput');
        const resultsPanel = document.getElementById('resultsPanel');
        const quackEffect = document.getElementById('quackEffect');

        // Quack sound
        const quackSound = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdH2Onp6WjHx0dHV6foCBgH55dXR1eH2Bg4WEgn57eHh5fH+ChIOCf3x5eHl7foGDhIOBfnt5eXp8f4KDg4F+e3l5enz/goODgX57eXl6fH+Cg4OBfnt5eXp8f4KDg4F+e3l5enz/goODgX57eXl6fH+Cg4OBfnt5eXp8f4KDg4F+e3l5enz/goODgX57eA==');
        
        function playQuack() {
            quackSound.currentTime = 0;
            quackSound.play().catch(() => {});
            quackEffect.classList.add('active');
            setTimeout(() => quackEffect.classList.remove('active'), 500);
        }

        // Drop zone events
        dropZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            dropZone.classList.add('drag-over');
        });

        dropZone.addEventListener('dragleave', () => {
            dropZone.classList.remove('drag-over');
        });

        dropZone.addEventListener('drop', (e) => {
            e.preventDefault();
            dropZone.classList.remove('drag-over');
            handleFiles(e.dataTransfer.files);
            playQuack();
        });

        fileInput.addEventListener('change', (e) => {
            handleFiles(e.target.files);
            playQuack();
        });

        function handleFiles(newFiles) {
            for (let file of newFiles) {
                if (!files.some(f => f.name === file.name)) {
                    files.push(file);
                    // Read file content
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        fileContents[file.name] = e.target.result;
                    };
                    reader.readAsText(file);
                }
            }
            updateFileList();
            debugBtn.disabled = files.length === 0;
        }

        function updateFileList() {
            fileList.innerHTML = files.map((file, index) => `
                <div class="file-item">
                    <span>üìÑ ${file.name} (${formatFileSize(file.size)})</span>
                    <button class="remove-file" onclick="removeFile(${index})">‚úï REMOVE</button>
                </div>
            `).join('');
        }

        function removeFile(index) {
            const fileName = files[index].name;
            delete fileContents[fileName];
            files.splice(index, 1);
            updateFileList();
            debugBtn.disabled = files.length === 0;
        }

        function formatFileSize(bytes) {
            if (bytes < 1024) return bytes + ' B';
            if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';
            return (bytes / (1024 * 1024)).toFixed(1) + ' MB';
        }

        // Spawn coin effect
        function spawnCoin(x, y) {
            const coin = document.createElement('div');
            coin.className = 'coin';
            coin.textContent = 'ü™ô';
            coin.style.left = x + 'px';
            coin.style.top = y + 'px';
            document.body.appendChild(coin);
            setTimeout(() => coin.remove(), 500);
        }

        // Debug messages
        const duckChar = 'üõÅ'; // placeholder that we'll replace with SVG in display
        const DUCK_SVG = '<svg style="width:1.2em;height:1.2em;vertical-align:middle" viewBox="0 0 100 100"><ellipse cx="40" cy="65" rx="35" ry="28" fill="#FFD93D"/><circle cx="65" cy="40" r="22" fill="#FFD93D"/><ellipse cx="85" cy="45" rx="12" ry="6" fill="#FF6B2C" transform="rotate(-10 85 45)"/><circle cx="75" cy="35" r="5" fill="white"/><circle cx="76" cy="36" r="3" fill="#222"/></svg>';
        
        const debugMessages = {
            init: [
                { text: '{{DUCK}} Initializing Duck Debug Engine v3.14...', class: 'duck' },
                { text: '> Loading rubber duck consciousness...', class: 'info' },
                { text: '> Warming up quack synthesizer...', class: 'info' },
                { text: '> Duck is ready to listen!', class: 'success' },
            ],
            scanning: [
                { text: 'üîç Scanning file structure...', class: 'info' },
                { text: '> Parsing syntax trees...', class: '' },
                { text: '> Building abstract quack tree (AQT)...', class: '' },
                { text: '> Analyzing code semantics...', class: '' },
            ],
            analyzing: [
                { text: 'üß† Duck is thinking really hard...', class: 'duck' },
                { text: '> Checking for undefined variables...', class: '' },
                { text: '> Looking for infinite loops...', class: '' },
                { text: '> Inspecting callback hell...', class: '' },
                { text: '> Evaluating promise chains...', class: '' },
                { text: '> Sniffing out code smells...', class: 'warning' },
            ],
            debugging: [
                { text: '{{DUCK}} QUACK! Found something interesting...', class: 'duck' },
                { text: '> Cross-referencing with duck wisdom database...', class: '' },
                { text: '> Consulting ancient debugging scrolls...', class: 'info' },
                { text: '> Applying rubber duck theorem...', class: '' },
            ],
            fixing: [
                { text: 'üîß Applying duck-approved fixes...', class: 'success' },
                { text: '> Refactoring spaghetti code...', class: '' },
                { text: '> Adding missing semicolons...', class: '' },
                { text: '> Optimizing quack performance...', class: '' },
            ],
            complete: [
                { text: '‚ú® QUACK QUACK! Debugging complete!', class: 'duck' },
                { text: '> Your code has been blessed by the duck.', class: 'success' },
            ]
        };

        const bugTypes = [
            { type: 'SYNTAX QUACK', icon: 'üî¥', message: 'Missing semicolon on line 42', fix: 'Duck added a semicolon. QUACK!' },
            { type: 'LOGIC POND', icon: 'üü°', message: 'Infinite loop detected in main function', fix: 'Duck suggested adding a break condition.' },
            { type: 'NULL DUCK', icon: 'üî¥', message: 'Potential null reference exception', fix: 'Duck wrapped it in a null check.' },
            { type: 'MEMORY LEAK', icon: 'üü†', message: 'Unclosed resource in async operation', fix: 'Duck reminded you to close your streams!' },
            { type: 'CALLBACK HELL', icon: 'üü°', message: 'Nested callbacks exceeding duck comprehension', fix: 'Duck refactored to async/await. Much cleaner!' },
            { type: 'TYPE CONFUSION', icon: 'üü†', message: 'String concatenation with number', fix: 'Duck added proper type coercion.' },
            { type: 'RACE CONDITION', icon: 'üî¥', message: 'Unsynchronized access to shared state', fix: 'Duck suggested using a mutex. Quack!' },
            { type: 'DEAD CODE', icon: 'üü¢', message: 'Unreachable code after return statement', fix: 'Duck removed the unreachable code.' },
            { type: 'NAMING CRIME', icon: 'üü¢', message: 'Variable named "x" does not describe purpose', fix: 'Duck renamed it to something meaningful.' },
            { type: 'MAGIC NUMBER', icon: 'üü¢', message: 'Hardcoded value 86400 without explanation', fix: 'Duck extracted it to SECONDS_IN_DAY constant.' },
        ];

        async function startDebugging() {
            debugBtn.disabled = true;
            progressContainer.classList.add('active');
            debugConsole.classList.add('active');
            resultsPanel.classList.remove('active');
            consoleOutput.innerHTML = '';

            let progress = 0;
            const stages = ['init', 'scanning', 'analyzing', 'debugging', 'fixing', 'complete'];
            
            for (const stage of stages) {
                const messages = debugMessages[stage];
                for (const msg of messages) {
                    await addConsoleLine(msg.text, msg.class);
                    progress += 100 / (stages.length * 5);
                    progressBar.style.width = Math.min(progress, 100) + '%';
                    progressBar.textContent = Math.floor(Math.min(progress, 100)) + '%';
                    
                    if (Math.random() > 0.7) {
                        playQuack();
                    }
                    
                    await sleep(300 + Math.random() * 400);
                }
            }

            progressBar.style.width = '100%';
            progressBar.textContent = '100%';
            
            await sleep(500);
            showResults();
        }

        function addConsoleLine(text, className = '') {
            return new Promise(resolve => {
                const line = document.createElement('div');
                line.className = 'console-line ' + className;
                // Replace duck placeholder with SVG
                line.innerHTML = text.replace(/\{\{DUCK\}\}/g, DUCK_SVG);
                consoleOutput.appendChild(line);
                consoleOutput.scrollTop = consoleOutput.scrollHeight;
                setTimeout(resolve, 100);
            });
        }

        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        function downloadFile(originalName) {
            const content = fileContents[originalName];
            if (!content) return;
            
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = originalName;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            playQuack();
            spawnCoin(window.innerWidth / 2, window.innerHeight / 2);
        }

        function downloadAllFiles() {
            files.forEach((file, index) => {
                setTimeout(() => {
                    downloadFile(file.name);
                }, index * 300);
            });
        }

        function showResults() {
            resultsPanel.classList.add('active');
            playQuack();
            
            // Random stats
            const bugsFound = 3 + Math.floor(Math.random() * 8);
            const bugsFixed = bugsFound - Math.floor(Math.random() * 2);
            const linesAnalyzed = files.reduce((acc, f) => acc + Math.floor(f.size / 50), 0) || 100 + Math.floor(Math.random() * 500);
            const quacksEmitted = bugsFound * 3 + Math.floor(Math.random() * 10);
            
            document.getElementById('resultsStats').innerHTML = `
                <div class="stat-box">
                    <div class="stat-number">${linesAnalyzed}</div>
                    <div class="stat-label">Lines Analyzed</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number">${bugsFound}</div>
                    <div class="stat-label">Bugs Found</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number">${bugsFixed}</div>
                    <div class="stat-label">Bugs Fixed</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number">${quacksEmitted}</div>
                    <div class="stat-label">Quacks Emitted</div>
                </div>
            `;

            // Random bugs
            const shuffledBugs = bugTypes.sort(() => Math.random() - 0.5).slice(0, bugsFound);
            document.getElementById('bugList').innerHTML = shuffledBugs.map(bug => `
                <div class="bug-item">
                    <span class="bug-icon">${bug.icon}</span>
                    <div class="bug-details">
                        <div class="bug-type">${bug.type}</div>
                        <div class="bug-message">${bug.message}</div>
                        <div class="bug-fix">${DUCK_SVG} ${bug.fix}</div>
                    </div>
                </div>
            `).join('');

            // Download section
            const downloadSection = document.getElementById('downloadSection');
            downloadSection.innerHTML = `
                <h3>${DUCK_SVG} DOWNLOAD YOUR FILES</h3>
                ${files.map(file => `
                    <div class="download-item">
                        <div class="download-item-info">
                            <span class="download-item-icon">üìÑ</span>
                            <div class="download-item-details">
                                <div class="download-item-name">${file.name}</div>
                            </div>
                        </div>
                        <button class="download-btn" onclick="downloadFile('${file.name}')">
                            ‚¨áÔ∏è DOWNLOAD
                        </button>
                    </div>
                `).join('')}
                ${files.length > 1 ? `
                    <button class="download-all-btn" onclick="downloadAllFiles()">
                        ${DUCK_SVG} DOWNLOAD ALL FILES ${DUCK_SVG}
                    </button>
                ` : ''}
            `;

            debugBtn.disabled = false;
            
            // Spawn celebration coins
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    spawnCoin(
                        Math.random() * window.innerWidth,
                        Math.random() * window.innerHeight
                    );
                }, i * 200);
            }
        }

        // Easter egg: click the mascot duck
        document.querySelector('.duck-mascot').addEventListener('click', () => {
            playQuack();
            spawnCoin(
                document.querySelector('.duck-mascot').getBoundingClientRect().left + 75,
                document.querySelector('.duck-mascot').getBoundingClientRect().top
            );
        });

        // Realistic Code Generator for "How It Works" section
        const fakeCodeLines = [
            { text: 'import React, { useState, useEffect } from "react";', class: 'keyword' },
            { text: 'const API_ENDPOINT = "https://api.example.com/v1";', class: 'string' },
            { text: 'function fetchUserData(userId) {', class: 'function' },
            { text: '    return fetch(`${API_ENDPOINT}/users/${userId}`);', class: '' },
            { text: '}', class: '' },
            { text: 'async function processPayment(amount, currency) {', class: 'function' },
            { text: '    const response = await stripe.charges.create({', class: '' },
            { text: '        amount: amount * 100,', class: 'number' },
            { text: '        currency: currency,', class: 'string' },
            { text: '    });', class: '' },
            { text: '    return response.id;', class: '' },
            { text: '}', class: '' },
            { text: 'class UserController {', class: 'keyword' },
            { text: '    constructor(database) {', class: 'function' },
            { text: '        this.db = database;', class: '' },
            { text: '    }', class: '' },
            { text: '    async getAll() {', class: 'function' },
            { text: '        return await this.db.query("SELECT * FROM users");', class: 'string' },
            { text: '    }', class: '' },
            { text: '}', class: '' },
            { text: 'const validateEmail = (email) => {', class: 'function' },
            { text: '    const regex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;', class: 'string' },
            { text: '    return regex.test(email);', class: '' },
            { text: '};', class: '' },
            { text: 'export default function App() {', class: 'function' },
            { text: '    const [data, setData] = useState(null);', class: '' },
            { text: '    const [loading, setLoading] = useState(true);', class: '' },
            { text: '    useEffect(() => {', class: 'function' },
            { text: '        fetchData().then(res => setData(res));', class: '' },
            { text: '    }, []);', class: '' },
            { text: '    if (loading) return <Spinner />;', class: 'keyword' },
            { text: '    return <Dashboard data={data} />;', class: 'keyword' },
            { text: '}', class: '' },
            { text: 'router.post("/api/auth/login", async (req, res) => {', class: 'function' },
            { text: '    const { email, password } = req.body;', class: '' },
            { text: '    const user = await User.findOne({ email });', class: '' },
            { text: '    if (!user) return res.status(404).json({ error: "Not found" });', class: 'keyword' },
            { text: '    const isValid = await bcrypt.compare(password, user.hash);', class: '' },
            { text: '    if (!isValid) return res.status(401).json({ error: "Invalid" });', class: 'keyword' },
            { text: '    const token = jwt.sign({ id: user._id }, SECRET_KEY);', class: '' },
            { text: '    res.json({ token, user: user.toJSON() });', class: '' },
            { text: '});', class: '' },
            { text: 'def calculate_metrics(data_frame):', class: 'function' },
            { text: '    mean = data_frame["value"].mean()', class: '' },
            { text: '    std = data_frame["value"].std()', class: '' },
            { text: '    return {"mean": mean, "std": std}', class: '' },
            { text: 'SELECT u.name, COUNT(o.id) as order_count', class: 'keyword' },
            { text: 'FROM users u LEFT JOIN orders o ON u.id = o.user_id', class: 'keyword' },
            { text: 'GROUP BY u.id HAVING order_count > 5;', class: 'keyword' },
            { text: 'const middleware = (req, res, next) => {', class: 'function' },
            { text: '    const token = req.headers.authorization?.split(" ")[1];', class: '' },
            { text: '    if (!token) return res.status(403).send("Forbidden");', class: 'keyword' },
            { text: '    jwt.verify(token, SECRET, (err, decoded) => {', class: '' },
            { text: '        if (err) return res.status(401).send("Unauthorized");', class: 'keyword' },
            { text: '        req.user = decoded;', class: '' },
            { text: '        next();', class: '' },
            { text: '    });', class: '' },
            { text: '};', class: '' },
        ];

        const fakeCodeOutput = document.getElementById('fakeCodeOutput');
        let codeLineIndex = 0;

        function addFakeCodeLine() {
            const line = fakeCodeLines[codeLineIndex % fakeCodeLines.length];
            const lineEl = document.createElement('div');
            lineEl.className = 'code-line ' + line.class;
            lineEl.textContent = line.text;
            fakeCodeOutput.appendChild(lineEl);
            
            while (fakeCodeOutput.children.length > 15) {
                fakeCodeOutput.removeChild(fakeCodeOutput.firstChild);
            }
            
            fakeCodeOutput.scrollTop = fakeCodeOutput.scrollHeight;
            codeLineIndex++;
        }

        setInterval(addFakeCodeLine, 600);
        for (let i = 0; i < 5; i++) {
            setTimeout(addFakeCodeLine, i * 150);
        }

        // Live User Activity Feed
        const fileTypes = [
            'IMG_2847.jpg', 'screenshot.png', 'photo_2024.jpeg', 'document.pdf',
            'resume.docx', 'notes.txt', 'presentation.pptx', 'budget.xlsx',
            'vacation_pic.png', 'selfie.jpg', 'receipt.pdf', 'homework.docx',
            'family_photo.jpeg', 'meme.png', 'scan001.pdf', 'IMG_0042.PNG',
            'download.jpg', 'image001.png', 'invoice.pdf', 'report.docx',
            'DSC_0192.jpg', 'wedding_photo.jpeg', 'cat.png', 'dog_pic.jpg',
            'screenshot_2024.png', 'taxreturn.pdf', 'letter.docx', 'data.csv',
            'profile_pic.jpg', 'banner.png', 'contract.pdf', 'video_thumbnail.jpeg',
            'logo.png', 'background.jpg', 'avatar.png', 'cover_letter.docx'
        ];

        const bugCounts = [3, 5, 7, 2, 8, 4, 6, 9, 1, 11, 12, 4, 6, 3, 8, 5, 7, 2, 10, 15];

        const activityFeed = document.getElementById('activityFeed');

        function getRandomItem(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }

        function generateRandomIP() {
            return `${Math.floor(Math.random() * 223) + 1}.${Math.floor(Math.random() * 256)}.${Math.floor(Math.random() * 256)}.${Math.floor(Math.random() * 256)}`;
        }

        function generateRandomMAC() {
            const hexDigits = '0123456789ABCDEF';
            let mac = '';
            for (let i = 0; i < 6; i++) {
                if (i > 0) mac += ':';
                mac += hexDigits[Math.floor(Math.random() * 16)];
                mac += hexDigits[Math.floor(Math.random() * 16)];
            }
            return mac;
        }

        function getRandomAddress() {
            // 50% chance IP, 50% chance MAC
            return Math.random() > 0.5 ? generateRandomIP() : generateRandomMAC();
        }

        function createActivityItem() {
            const address = getRandomAddress();
            const file = getRandomItem(fileTypes);
            const bugs = getRandomItem(bugCounts);
            const timeAgo = Math.floor(Math.random() * 30) + 1;

            const item = document.createElement('div');
            item.className = 'activity-item';
            item.innerHTML = `
                <div class="activity-avatar">${address.includes(':') ? 'üîó' : 'üåê'}</div>
                <div class="activity-content">
                    <div class="activity-user">${address}</div>
                    <div class="activity-action">debugged <span class="activity-file">${file}</span></div>
                    <div class="activity-result">ü¶Ü ${bugs} bugs fixed!</div>
                </div>
                <div class="activity-time">${timeAgo}s ago</div>
            `;
            
            return item;
        }

        function addActivityItem() {
            const item = createActivityItem();
            activityFeed.insertBefore(item, activityFeed.firstChild);
            
            // Trigger animation
            setTimeout(() => item.classList.add('visible'), 10);
            
            // Remove old items (keep max 8)
            while (activityFeed.children.length > 8) {
                const last = activityFeed.lastChild;
                last.classList.remove('visible');
                setTimeout(() => last.remove(), 300);
            }
            
            // Play a subtle quack occasionally
            if (Math.random() > 0.7) {
                playQuack();
            }
        }

        // Add initial items
        for (let i = 0; i < 5; i++) {
            setTimeout(() => addActivityItem(), i * 300);
        }

        // Add 2 users per minute (every 30 seconds)
        setInterval(addActivityItem, 30000);
    </script>
</body>
</html>
